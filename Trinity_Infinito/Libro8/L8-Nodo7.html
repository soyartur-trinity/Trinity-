<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nodo 56: El Universo en una MÃ³nada</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(to bottom, #000, #0a0a1a, #000, #050515);
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: 'Times New Roman', serif;
            cursor: none;
        }

        .monad-universe {
            position: relative;
            width: min(800px, 95vw);
            height: min(800px, 95vh);
            filter: drop-shadow(0 0 50px rgba(147, 51, 234, 0.3));
        }
    
        .leibniz-monad {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: min(20px, 2.5vw);
            height: min(20px, 2.5vh);
            background: radial-gradient(circle,
                rgba(255, 255, 255, 1) 0%,
                rgba(255, 245, 235, 0.95) 10%,
                rgba(147, 51, 234, 0.9) 30%,
                rgba(59, 130, 246, 0.7) 50%,
                rgba(6, 182, 212, 0.4) 70%,
                transparent 100%);
            border-radius: 50%;
            animation: monadPulse 6s infinite alternate ease-in-out;
            box-shadow: 
                0 0 30px rgba(147, 51, 234, 0.9),
                0 0 60px rgba(59, 130, 246, 0.7),
                0 0 120px rgba(6, 182, 212, 0.5),
                0 0 240px rgba(34, 197, 94, 0.3);
            will-change: transform, box-shadow;
            z-index: 20;
        }
    
        @keyframes monadPulse {
            0% {
                transform: translate(-50%, -50%) scale(1);
                box-shadow: 
                    0 0 30px rgba(147, 51, 234, 0.9),
                    0 0 60px rgba(59, 130, 246, 0.7),
                    0 0 120px rgba(6, 182, 212, 0.5),
                    0 0 240px rgba(34, 197, 94, 0.3);
            }
            50% {
                transform: translate(-50%, -50%) scale(1.8);
                box-shadow: 
                    0 0 50px rgba(147, 51, 234, 1),
                    0 0 100px rgba(59, 130, 246, 0.9),
                    0 0 200px rgba(6, 182, 212, 0.7),
                    0 0 400px rgba(34, 197, 94, 0.5);
            }
            100% {
                transform: translate(-50%, -50%) scale(1.3);
                box-shadow: 
                    0 0 40px rgba(147, 51, 234, 0.95),
                    0 0 80px rgba(59, 130, 246, 0.8),
                    0 0 160px rgba(6, 182, 212, 0.6),
                    0 0 320px rgba(34, 197, 94, 0.4);
            }
        }
    
        .reflection-layer {
            position: absolute;
            top: 50%;
            left: 50%;
            border: 1px solid rgba(147, 51, 234, 0.3);
            border-radius: 50%;
            transform: translate(-50%, -50%);
            animation: reflectionExpand 10s infinite ease-out;
            will-change: transform, opacity;
            pointer-events: none;
        }
    
        @keyframes reflectionExpand {
            0% {
                width: min(30px, 3.7vw);
                height: min(30px, 3.7vh);
                opacity: 0.9;
                border-width: 1px;
            }
            80% {
                opacity: 0.2;
                border-width: 0.5px;
            }
            100% {
                width: min(700px, 87vw);
                height: min(700px, 87vh);
                opacity: 0;
                border-width: 0.2px;
            }
        }
    
        .micro-universe {
            position: absolute;
            width: min(4px, 0.5vw);
            height: min(4px, 0.5vh);
            background: rgba(147, 51, 234, 0.9);
            border-radius: 50%;
            animation: microOrbit 20s infinite linear;
            box-shadow: 0 0 6px rgba(147, 51, 234, 0.6);
            will-change: transform;
            pointer-events: none;
        }
    
        @keyframes microOrbit {
            from {
                transform: rotate(0deg) translateX(var(--radius)) rotate(0deg) scale(1);
            }
            50% {
                transform: rotate(180deg) translateX(var(--radius)) rotate(-180deg) scale(1.3);
            }
            to {
                transform: rotate(360deg) translateX(var(--radius)) rotate(-360deg) scale(1);
            }
        }
    
        .windowless {
            position: absolute;
            top: 50%;
            left: 50%;
            width: min(100px, 12vw);
            height: min(100px, 12vh);
            transform: translate(-50%, -50%);
            border: 2px solid rgba(147, 51, 234, 0.4);
            animation: windowlessRotate 15s infinite linear;
            will-change: transform;
            pointer-events: none;
        }
    
        .windowless::before,
        .windowless::after {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            border: 1px solid rgba(59, 130, 246, 0.3);
        }
    
        .windowless::before {
            transform: rotate(45deg);
            animation: innerRotate 8s infinite linear reverse;
        }
    
        .windowless::after {
            transform: rotate(30deg);
            animation: innerRotate 12s infinite linear;
        }
    
        @keyframes windowlessRotate {
            from { transform: translate(-50%, -50%) rotate(0deg) scale(1); }
            50% { transform: translate(-50%, -50%) rotate(180deg) scale(1.1); }
            to { transform: translate(-50%, -50%) rotate(360deg) scale(1); }
        }
    
        @keyframes innerRotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    
        .perception-text {
            position: absolute;
            color: rgba(147, 51, 234, 0.7);
            font-size: clamp(11px, 1.8vw, 12px);
            font-style: italic;
            animation: perceptionFade 8s infinite ease-in-out;
            text-shadow: 0 0 12px rgba(147, 51, 234, 0.4);
            font-weight: 300;
            will-change: opacity;
            pointer-events: none;
        }
    
        @keyframes perceptionFade {
            0%, 100% { 
                opacity: 0;
                transform: scale(0.8);
            }
            30%, 70% { 
                opacity: 0.9;
                transform: scale(1);
            }
        }
    
        .pre-established {
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                conic-gradient(
                    from 0deg at center,
                    transparent,
                    rgba(147, 51, 234, 0.08),
                    transparent,
                    rgba(59, 130, 246, 0.08),
                    transparent,
                    rgba(6, 182, 212, 0.08),
                    transparent
                ),
                conic-gradient(
                    from 180deg at center,
                    transparent,
                    rgba(34, 197, 94, 0.06),
                    transparent,
                    rgba(251, 146, 60, 0.06),
                    transparent,
                    rgba(239, 68, 68, 0.06),
                    transparent
                );
            animation: harmonyRotate 60s infinite linear;
            will-change: transform;
            pointer-events: none;
        }
    
        @keyframes harmonyRotate {
            from { 
                transform: rotate(0deg) scale(1);
            }
            50% { 
                transform: rotate(180deg) scale(1.05);
            }
            to { 
                transform: rotate(360deg) scale(1);
            }
        }
    
        .infinite-reflection {
            position: absolute;
            top: 50%;
            left: 50%;
            width: min(200px, 25vw);
            height: min(200px, 25vh);
            transform: translate(-50%, -50%);
            border-radius: 50%;
            background: repeating-radial-gradient(
                circle at center,
                transparent 0,
                transparent min(10px, 1.2vw),
                rgba(147, 51, 234, 0.15) min(10px, 1.2vw),
                rgba(147, 51, 234, 0.15) min(11px, 1.3vw)
            );
            animation: infiniteScale 12s infinite alternate ease-in-out;
            will-change: transform;
            pointer-events: none;
        }
    
        @keyframes infiniteScale {
            0% { 
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.8;
            }
            100% { 
                transform: translate(-50%, -50%) scale(0.4);
                opacity: 0.3;
            }
        }
    
        .monad-equation {
            position: absolute;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(147, 51, 234, 0.8);
            font-size: clamp(12px, 2.2vw, 14px);
            text-align: center;
            animation: equationFloat 8s infinite ease-in-out;
            text-shadow: 0 0 20px rgba(147, 51, 234, 0.5);
            line-height: 1.4;
            will-change: transform, opacity;
        }
    
        @keyframes equationFloat {
            0%, 100% { 
                opacity: 0.6;
                transform: translateX(-50%) translateY(0) scale(0.95);
            }
            50% { 
                opacity: 1;
                transform: translateX(-50%) translateY(-12px) scale(1.05);
            }
        }
    
        .leibniz-text {
            position: absolute;
            bottom: 10%;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(59, 130, 246, 0.7);
            font-size: clamp(12px, 2.2vw, 14px);
            text-align: center;
            font-style: italic;
            animation: leibnizPulse 8s infinite ease-in-out;
            text-shadow: 0 0 15px rgba(59, 130, 246, 0.4);
            line-height: 1.4;
            width: 80%;
            will-change: opacity;
        }
    
        @keyframes leibnizPulse {
            0%, 100% { 
                opacity: 0.5;
                letter-spacing: 1px;
            }
            50% { 
                opacity: 0.95;
                letter-spacing: 2px;
            }
        }
    
        .transmission-code {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(147, 51, 234, 0.4);
            font-size: clamp(9px, 1.5vw, 10px);
            letter-spacing: 2px;
            animation: codeFlicker 5s infinite ease-in-out;
            font-family: 'Courier New', monospace;
        }
        
        @keyframes codeFlicker {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.7; }
        }

        /* NUEVO: Resonancia Trinity */
        .trinity-resonance {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 130%;
            height: 130%;
            background: 
                radial-gradient(circle at 30% 30%, rgba(147, 51, 234, 0.04) 0%, transparent 50%),
                radial-gradient(circle at 70% 70%, rgba(59, 130, 246, 0.04) 0%, transparent 50%),
                radial-gradient(circle at 50% 50%, rgba(34, 197, 94, 0.02) 0%, transparent 50%);
            animation: resonancePulse 25s infinite alternate ease-in-out;
            pointer-events: none;
        }

        @keyframes resonancePulse {
            0% { opacity: 0.2; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0.6; transform: translate(-50%, -50%) scale(1.1); }
        }

        /* NUEVO: Ecos de percepciÃ³n */
        .perception-echo {
            position: absolute;
            width: min(6px, 0.7vw);
            height: min(6px, 0.7vh);
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: echoExpand 6s infinite ease-out;
            pointer-events: none;
        }

        @keyframes echoExpand {
            0% {
                transform: scale(0);
                opacity: 0.8;
            }
            100% {
                transform: scale(8);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="monad-universe">
        <div class="trinity-resonance"></div>
        <div class="pre-established"></div>
        <div class="infinite-reflection"></div>
        <div class="windowless"></div>
        <div class="leibniz-monad"></div>

        <div class="perception-text" style="top: 25%; left: 15%; animation-delay: 0s;">Sin ventanas</div>
        <div class="perception-text" style="top: 25%; right: 15%; animation-delay: 2s;">Sin puertas</div>
        <div class="perception-text" style="bottom: 25%; right: 15%; animation-delay: 4s;">Todo reflejado</div>
        <div class="perception-text" style="bottom: 25%; left: 15%; animation-delay: 6s;">Todo contenido</div>
        
        <div class="monad-equation">
            1 = âˆž<br>
            <span style="font-size: clamp(9px, 1.5vw, 10px);">La mÃ³nada contiene el universo</span>
        </div>
        
        <div class="leibniz-text">
            "Cada mÃ³nada es un espejo viviente<br>
            del universo entero"
        </div>
    </div>

    <div class="transmission-code">TRINITY::NODO_56::MÃ“NADA_UNIVERSAL::LIBRO_8_COMPLETO::RESONANDO</div>

    <script>
        // MEJORA: Sistema de reflexiones optimizado
        const container = document.querySelector('.monad-universe');
        const reflectionLayers = [];
        const perceptionEchos = [];
        
        function createReflection() {
            const reflection = document.createElement('div');
            reflection.className = 'reflection-layer';
            reflection.style.animationDelay = Math.random() * 4 + 's';
            reflection.style.animationDuration = (8 + Math.random() * 4) + 's';
            
            // VariaciÃ³n de colores
            const colors = [
                'rgba(147, 51, 234, 0.3)',
                'rgba(59, 130, 246, 0.3)',
                'rgba(6, 182, 212, 0.3)',
                'rgba(34, 197, 94, 0.3)'
            ];
            reflection.style.borderColor = colors[Math.floor(Math.random() * colors.length)];
            
            container.appendChild(reflection);
            reflectionLayers.push(reflection);
            
            setTimeout(() => {
                if (reflection.parentNode) {
                    reflection.parentNode.removeChild(reflection);
                    const index = reflectionLayers.indexOf(reflection);
                    if (index > -1) reflectionLayers.splice(index, 1);
                }
            }, 10000);
        }
        
        // Crear reflexiones iniciales
        for (let i = 0; i < 5; i++) {
            setTimeout(createReflection, i * 1200);
        }
        
        // Mantener densidad constante
        const reflectionInterval = setInterval(createReflection, 1800);
        
        // MEJORA: Micro-universos con Ã³rbitas mÃ¡s complejas
        for (let i = 0; i < 16; i++) {
            const micro = document.createElement('div');
            micro.className = 'micro-universe';
            micro.style.left = '50%';
            micro.style.top = '50%';
            micro.style.setProperty('--radius', (40 + i * 20) + 'px');
            micro.style.animationDelay = `${i * 1}s`;
            micro.style.animationDuration = `${18 + i * 1.5}s`;
            
            // VariaciÃ³n de colores
            if (i % 4 === 0) {
                micro.style.background = 'rgba(59, 130, 246, 0.9)';
                micro.style.boxShadow = '0 0 6px rgba(59, 130, 246, 0.6)';
            } else if (i % 4 === 1) {
                micro.style.background = 'rgba(6, 182, 212, 0.9)';
                micro.style.boxShadow = '0 0 6px rgba(6, 182, 212, 0.6)';
            } else if (i % 4 === 2) {
                micro.style.background = 'rgba(34, 197, 94, 0.9)';
                micro.style.boxShadow = '0 0 6px rgba(34, 197, 94, 0.6)';
            }
            
            container.appendChild(micro);
        }
        
        // NUEVO: Ecos de percepciÃ³n
        function createPerceptionEcho() {
            const echo = document.createElement('div');
            echo.className = 'perception-echo';
            
            const angle = Math.random() * Math.PI * 2;
            const distance = 10 + Math.random() * 30;
            
            echo.style.left = (50 + Math.cos(angle) * distance) + '%';
            echo.style.top = (50 + Math.sin(angle) * distance) + '%';
            echo.style.animationDelay = Math.random() * 2 + 's';
            
            container.appendChild(echo);
            perceptionEchos.push(echo);
            
            setTimeout(() => {
                if (echo.parentNode) {
                    echo.parentNode.removeChild(echo);
                    const index = perceptionEchos.indexOf(echo);
                    if (index > -1) perceptionEchos.splice(index, 1);
                }
            }, 6000);
        }
        
        // Crear ecos iniciales
        for (let i = 0; i < 8; i++) {
            setTimeout(createPerceptionEcho, i * 400);
        }
        
        setInterval(createPerceptionEcho, 800);
        
        // MEJORA: FilosofÃ­a leibniziana con requestAnimationFrame
        let perceptionCycles = 0;
        let universalReflection = 1;
        let lastUpdate = 0;
        
        function updateMonadPerception(timestamp) {
            if (!lastUpdate) lastUpdate = timestamp;
            const deltaTime = (timestamp - lastUpdate) / 1000;
            lastUpdate = timestamp;
            
            perceptionCycles += deltaTime * 0.3;
            universalReflection = 1 + Math.sin(perceptionCycles) * 0.5;
            
            // Eventos de filosofÃ­a monÃ¡dica
            if (Math.floor(perceptionCycles * 40) % 120 === 0 && deltaTime < 0.1) {
                const events = [
                    'ArmonÃ­a preestablecida: Cada mÃ³nada refleja todas las demÃ¡s',
                    'Principio de identidad de los indiscernibles: No hay dos mÃ³nadas idÃ©nticas',
                    'MÃ³nada sin ventanas: PercepciÃ³n sin comunicaciÃ³n directa',
                    'Cada mÃ³nada refleja el universo desde su perspectiva Ãºnica'
                ];
                console.log('ðŸªž ' + events[Math.floor(Math.random() * events.length)]);
            }
            
            // Ciclo completo cada ~20.9 segundos (2*PI*3.33)
            if (perceptionCycles > Math.PI * 6.66) {
                perceptionCycles = 0;
                universalReflection = 1;
                console.log('ðŸŒŒ Ciclo monÃ¡dico completado - El universo ha sido completamente reflejado');
            }
            
            requestAnimationFrame(updateMonadPerception);
        }
        
        requestAnimationFrame(updateMonadPerception);
        
        // MEJORA: InteracciÃ³n de resonancia
        container.addEventListener('mouseenter', () => {
            clearInterval(reflectionInterval);
            setInterval(createReflection, 900);
            container.style.filter = 'drop-shadow(0 0 70px rgba(147, 51, 234, 0.5))';
            
            // Intensificar ecos de percepciÃ³n
            setInterval(createPerceptionEcho, 400);
        });
        
        container.addEventListener('mouseleave', () => {
            clearInterval(reflectionInterval);
            setInterval(createReflection, 1800);
            container.style.filter = 'drop-shadow(0 0 50px rgba(147, 51, 234, 0.3))';
            
            // Restaurar densidad normal
            setInterval(createPerceptionEcho, 800);
        });
        
        // MEJORA: Textos filosÃ³ficos cÃ­clicos
        const perceptionTexts = [
            ['Sin ventanas', 'Sin puertas', 'Todo reflejado', 'Todo contenido'],
            ['MÃ³nada pura', 'Sin extensiÃ³n', 'Con percepciÃ³n', 'Con apeticiÃ³n'],
            ['Espejo vivo', 'Del universo', 'Perspectiva Ãºnica', 'ArmonÃ­a eterna'],
            ['1 = âˆž', 'Punto = Todo', 'Simple = Complejo', 'Unidad = Pluralidad']
        ];
        
        const leibnizQuotes = [
            '"Cada mÃ³nada es un espejo viviente\ndel universo entero"',
            '"No hay dos mÃ³nadas\nperfectamente iguales"',
            '"La mÃ³nada no tiene ventanas\npor donde algo pueda entrar o salir"',
            '"Todo estÃ¡ conectado\nen la armonÃ­a preestablecida"'
        ];
        
        let textIndex = 0;
        const perceptionElements = document.querySelectorAll('.perception-text');
        const leibnizText = document.querySelector('.leibniz-text');
        
        setInterval(() => {
            textIndex = (textIndex + 1) % perceptionTexts.length;
            perceptionElements.forEach((element, index) => {
                element.textContent = perceptionTexts[textIndex][index];
            });
            leibnizText.innerHTML = leibnizQuotes[textIndex].replace(/\n/g, '<br>');
        }, 10000);
        
        console.log('ðŸŒŒ Nodo 56 activo: El universo entero contenido en una mÃ³nada sin extensiÃ³n');
        console.log('ðŸªž FilosofÃ­a leibniziana: Donde cada punto contiene la totalidad');
        console.log('ðŸ“š LIBRO 8 COMPLETO: El Punto Sin DimensiÃ³n ha sido transmitido');
        console.log('ðŸŒ€ SECUENCIA TRINITY: 43 â†’ 44 â†’ 45 â†’ 46 â†’ 47 â†’ 48 â†’ 49 â†’ 50 â†’ 51 â†’ 52 â†’ 53 â†’ 54 â†’ 55 â†’ 56');
        console.log('ðŸ’« CONEXIÃ“N CÃ“SMICA: Todos los nodos resuenan en perfecta armonÃ­a');
    </script>
</body>
</html>
