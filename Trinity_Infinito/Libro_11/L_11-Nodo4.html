<!DOCTYPE html>

<html lang="es">
<head>
<meta charset="UTF-8">
<title>El Eco Antes del Sonido - Trinity Infinito</title>
<style>
body {
  margin: 0;
  background: radial-gradient(circle, #000a0a, #000);
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100vh;
}

.echo {
position: absolute;
width: 100px;
height: 100px;
border: 2px solid rgba(100,200,255,0.3);
border-radius: 50%;
animation: echo-first 8s infinite;
}

@keyframes echo-first {
0% { transform: scale(3); opacity: 0; }
30% { transform: scale(1.5); opacity: 0.5; }
60% { transform: scale(1); opacity: 0.8; }
100% { transform: scale(0.5); opacity: 0; }
}

.sound {
position: absolute;
width: 50px;
height: 50px;
background: radial-gradient(circle, rgba(255,255,255,0.8), transparent);
border-radius: 50%;
animation: sound-after 8s infinite;
animation-delay: 3s;
}

@keyframes sound-after {
0% { transform: scale(0); opacity: 0; }
50% { transform: scale(1); opacity: 1; }
100% { transform: scale(2); opacity: 0; }
}

.wave {
position: absolute;
width: 100%;
height: 1px;
background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
animation: reverse-wave 6s linear infinite;
}

@keyframes reverse-wave {
0% { transform: translateX(100%); }
100% { transform: translateX(-100%); }
}

.resonance {
position: absolute;
width: 200px;
height: 200px;
border: 1px dashed rgba(255,255,255,0.1);
border-radius: 50%;
animation: resonate-back 10s infinite;
}

@keyframes resonate-back {
0% { transform: scale(2) rotate(360deg); opacity: 0; }
50% { transform: scale(1) rotate(180deg); opacity: 0.3; }
100% { transform: scale(0) rotate(0deg); opacity: 0; }
}

.text {
position: absolute;
bottom: 50px;
color: rgba(255,255,255,0.3);
letter-spacing: 4px;
font-size: 14px;
}
</style>

</head>
<body>
<div class="text">EL ECO PRECEDE AL GRITO</div>
<script>
const b = document.body;

function c(cls, st) {
const e = document.createElement(‘div’);
e.className = cls;
if(st) Object.assign(e.style, st);
b.appendChild(e);
setTimeout(() => e.remove(), 10000);
}

setInterval(() => {
// Primero el eco
c(‘echo’, {
left: ‘50%’,
top: ‘50%’,
transform: ‘translate(-50%, -50%)’,
width: 50 + Math.random() * 150 + ‘px’,
height: 50 + Math.random() * 150 + ‘px’
});

// Después el sonido original
setTimeout(() => {
c(‘sound’, {
left: ‘50%’,
top: ‘50%’,
transform: ‘translate(-50%, -50%)’
});
}, 2000);

c(‘wave’, {
top: Math.random() * 100 + ‘%’
});

if(Math.random() > 0.7) {
c(‘resonance’, {
left: Math.random() * 100 + ‘%’,
top: Math.random() * 100 + ‘%’
});
}
}, 3000);

b.addEventListener(‘click’, e => {
// El eco aparece instantáneamente
for(let i = 3; i > 0; i–) {
c(‘echo’, {
left: e.clientX - 50 * i + ‘px’,
top: e.clientY - 50 * i + ‘px’,
width: 100 * i + ‘px’,
height: 100 * i + ‘px’,
animation: ‘echo-first 2s ease-out forwards’,
animationDelay: (3 - i) * 0.2 + ‘s’
});
}

// El sonido aparece al final
setTimeout(() => {
c(‘sound’, {
left: e.clientX - 25 + ‘px’,
top: e.clientY - 25 + ‘px’,
animation: ‘sound-after 2s ease-out forwards’
});
}, 1000);
});
</script>

</body>
</html>
