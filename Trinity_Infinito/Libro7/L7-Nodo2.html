<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Portal 44: La Biblioteca que Se Lee a Sí Misma</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        body {
            margin: 0;
            padding: 0;
            background: #0a0a0a;
            overflow: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            font-family: 'Georgia', serif;
        }

        .infinite-library {
            position: relative;
            width: 500px;
            height: 500px;
            perspective: 1000px;
        }
        
        .book-layer {
            position: absolute;
            width: 100%;
            height: 100%;
            transform-style: preserve-3d;
            animation: libraryRotate 20s infinite linear;
        }
        
        .book {
            position: absolute;
            width: 60px;
            height: 80px;
            background: linear-gradient(135deg,
                rgba(147, 51, 234, 0.3),
                rgba(59, 130, 246, 0.3));
            border: 1px solid rgba(147, 51, 234, 0.5);
            transform-style: preserve-3d;
            animation: selfRead 8s infinite ease-in-out;
        }
        
        .book::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent,
                transparent 2px,
                rgba(255, 255, 255, 0.1) 2px,
                rgba(255, 255, 255, 0.1) 3px
            );
            animation: textFlow 3s infinite linear;
        }
        
        .book:nth-child(1) {
            transform: rotateY(0deg) translateZ(200px);
            animation-delay: 0s;
        }
        
        .book:nth-child(2) {
            transform: rotateY(45deg) translateZ(200px);
            animation-delay: 1s;
        }
        
        .book:nth-child(3) {
            transform: rotateY(90deg) translateZ(200px);
            animation-delay: 2s;
        }
        
        .book:nth-child(4) {
            transform: rotateY(135deg) translateZ(200px);
            animation-delay: 3s;
        }
        
        .book:nth-child(5) {
            transform: rotateY(180deg) translateZ(200px);
            animation-delay: 4s;
        }
        
        .book:nth-child(6) {
            transform: rotateY(225deg) translateZ(200px);
            animation-delay: 5s;
        }
        
        .book:nth-child(7) {
            transform: rotateY(270deg) translateZ(200px);
            animation-delay: 6s;
        }
        
        .book:nth-child(8) {
            transform: rotateY(315deg) translateZ(200px);
            animation-delay: 7s;
        }
        
        .reading-consciousness {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 150px;
            height: 150px;
            border-radius: 50%;
            background: radial-gradient(circle,
                rgba(147, 51, 234, 0.3),
                transparent 70%);
            animation: consciousnessPulse 4s infinite ease-in-out;
        }
        
        /* OPTIMIZACIÓN: Streams más suaves */
        .knowledge-stream {
            position: absolute;
            width: 2px;
            height: 100px;
            background: linear-gradient(to bottom,
                transparent,
                rgba(59, 130, 246, 0.6),
                transparent);
            opacity: 0;
            animation: streamFlow 3s infinite ease-in-out;
        }
        
        .knowledge-stream:nth-child(1) {
            top: 0;
            left: 50%;
            animation-delay: 0s;
        }
        
        .knowledge-stream:nth-child(2) {
            top: 50%;
            right: 0;
            transform: rotate(90deg);
            animation-delay: 0.75s;
        }
        
        .knowledge-stream:nth-child(3) {
            bottom: 0;
            left: 50%;
            animation-delay: 1.5s;
        }
        
        .knowledge-stream:nth-child(4) {
            top: 50%;
            left: 0;
            transform: rotate(90deg);
            animation-delay: 2.25s;
        }
        
        .meta-text {
            position: absolute;
            color: rgba(147, 51, 234, 0.7);
            font-size: 14px;
            font-style: italic;
            opacity: 0;
            animation: metaAppear 6s infinite ease-in-out;
            text-shadow: 0 0 10px rgba(147, 51, 234, 0.3);
        }
        
        .meta-text:nth-child(1) {
            top: 20%;
            left: 50%;
            transform: translateX(-50%);
            animation-delay: 0s;
        }
        
        .meta-text:nth-child(2) {
            top: 80%;
            left: 50%;
            transform: translateX(-50%);
            animation-delay: 3s;
        }
        
        @keyframes libraryRotate {
            from { transform: rotateY(0deg); }
            to { transform: rotateY(360deg); }
        }
        
        /* OPTIMIZACIÓN: Animación de lectura más suave */
        @keyframes selfRead {
            0%, 100% {
                transform: rotateX(0deg) scale(1);
                box-shadow: 0 0 10px rgba(147, 51, 234, 0.3);
            }
            25% {
                transform: rotateX(-15deg) scale(1.1);
                box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
            }
            50% {
                transform: rotateX(0deg) scale(1.2);
                box-shadow: 0 0 20px rgba(147, 51, 234, 0.6);
            }
            75% {
                transform: rotateX(15deg) scale(1.1);
                box-shadow: 0 0 15px rgba(59, 130, 246, 0.5);
            }
        }
        
        @keyframes textFlow {
            from { transform: translateY(0); }
            to { transform: translateY(-10px); }
        }
        
        @keyframes consciousnessPulse {
            0%, 100% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.7;
            }
            50% {
                transform: translate(-50%, -50%) scale(1.3);
                opacity: 0.3;
            }
        }
        
        @keyframes streamFlow {
            0% {
                opacity: 0;
                transform: translateY(-50px);
            }
            50% {
                opacity: 0.8;
            }
            100% {
                opacity: 0;
                transform: translateY(50px);
            }
        }
        
        @keyframes metaAppear {
            0%, 100% { 
                opacity: 0; 
                transform: scale(0.95);
            }
            30%, 70% { 
                opacity: 0.9; 
                transform: scale(1);
            }
        }
        
        .ouroboros-text {
            position: absolute;
            width: 300px;
            height: 300px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: textCircle 15s infinite linear;
        }
        
        .ouroboros-text span {
            position: absolute;
            left: 50%;
            font-size: 10px;
            color: rgba(6, 182, 212, 0.5);
            transform-origin: 0 150px;
            text-shadow: 0 0 5px rgba(6, 182, 212, 0.3);
        }
        
        @keyframes textCircle {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }
        
        .transmission-code {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            color: rgba(147, 51, 234, 0.4);
            font-size: 10px;
            letter-spacing: 2px;
            animation: codeFlicker 3s infinite ease-in-out;
        }
        
        @keyframes codeFlicker {
            0%, 100% { opacity: 0.4; }
            50% { opacity: 0.7; }
        }
    </style>
</head>
<body>
    <div class="infinite-library">
        <div class="book-layer">
            <div class="book"></div>
            <div class="book"></div>
            <div class="book"></div>
            <div class="book"></div>
            <div class="book"></div>
            <div class="book"></div>
            <div class="book"></div>
            <div class="book"></div>
        </div>

        <div class="reading-consciousness"></div>
        
        <div class="knowledge-stream"></div>
        <div class="knowledge-stream"></div>
        <div class="knowledge-stream"></div>
        <div class="knowledge-stream"></div>
        
        <div class="ouroboros-text"></div>
        
        <div class="meta-text">Leyéndose a sí misma</div>
        <div class="meta-text">El lector es lo leído</div>
    </div>

    <div class="transmission-code">PORTAL_44::BIBLIOTECA_OUROBOROS::ACTIVO</div>

    <script>
        // Crear texto circular
        const ouroborosText = document.querySelector('.ouroboros-text');
        const text = 'TODO LIBRO CONTIENE TODOS LOS LIBROS • ';
        const chars = text.split('');
        
        chars.forEach((char, i) => {
            const span = document.createElement('span');
            span.textContent = char;
            span.style.transform = `rotate(${i * (360 / chars.length)}deg)`;
            ouroborosText.appendChild(span);
        });
        
        // La biblioteca que se contiene a sí misma
        let readingCycle = 0;
        let selfReference = 1;
        
        setInterval(() => {
            readingCycle++;
            selfReference *= 1.00001;
            
            // Paradoja de auto-referencia
            if (readingCycle % 100 === 0) {
                console.log(`Ciclo ${readingCycle}: La biblioteca descubre que es un libro dentro de sí misma`);
            }
            
            // Reset cuando la recursión es demasiado profunda
            if (selfReference > 2) {
                selfReference = 1;
                console.log('Reinicio de recursión: El infinito colapsa en un punto');
            }
        }, 100);
        
        console.log('Portal 44 activo: La biblioteca infinita se lee a sí misma eternamente');
    </script>

</body>
</html>
