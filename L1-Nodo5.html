<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Donde las Paradojas Se Disuelven</title>
    <style>
        body {
            background: #000;
            color: #fff;
            font-family: 'Georgia', serif;
            margin: 0;
            padding: 40px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: none;
        }
        .paradox-field {
            max-width: 800px;
            text-align: center;
        }
        .paradox {
            margin: 40px 0;
            font-size: 1.1em;
            letter-spacing: 0.2em;
            opacity: 0;
            animation: paradox-cycle 10s infinite;
            animation-delay: calc(var(--index) * 2.5s); /* Aumentado el delay para dar espacio a cada paradoja */
        }
        @keyframes paradox-cycle {
            0%, 100% { opacity: 0; transform: scale(0.9); filter: blur(5px); }
            20%, 40% { opacity: 0.7; transform: scale(1); filter: blur(0); }
            60% { opacity: 0; transform: scale(1.1); filter: blur(10px); }
        }
        .dissolution-point {
            margin: 80px 0;
            font-size: 3em;
            animation: dissolve-pulse 8s infinite; /* Sincronizado con el pulso sonoro */
        }
        @keyframes dissolve-pulse {
            0%, 100% { opacity: 0.1; transform: scale(0.5) rotate(0deg); }
            50% { opacity: 0.5; transform: scale(1) rotate(180deg); }
        }
        .resolution {
            margin-top: 100px;
            font-size: 1.3em;
            letter-spacing: 0.5em;
            opacity: 0;
            animation: final-emergence 20s infinite;
        }
        @keyframes final-emergence {
            0%, 85%, 100% { opacity: 0; }
            90%, 95% { opacity: 0.6; }
        }
        .paradox-pair {
            display: flex;
            justify-content: space-around;
            align-items: center;
            margin: 30px 0;
        }
        .vs {
            opacity: 0.2;
            animation: vs-flash 5s infinite;
        }
        @keyframes vs-flash {
            0%, 90%, 100% { opacity: 0.2; }
            95% { opacity: 0.8; }
        }
    </style>
</head>
<body>
    <div class="paradox-field">
        <div class="paradox" style="--index: 0;">
            <div class="paradox-pair">
                <span>Todo es Uno</span><span class="vs">↔</span><span>Uno es Todo</span>
            </div>
        </div>
        <div class="paradox" style="--index: 1;">
            <div class="paradox-pair">
                <span>El camino es la meta</span><span class="vs">↔</span><span>No hay camino</span>
            </div>
        </div>
        <div class="paradox" style="--index: 2;">
            <div class="paradox-pair">
                <span>Buscar impide encontrar</span><span class="vs">↔</span><span>Sin buscar no hay hallazgo</span>
            </div>
        </div>
        <div class="dissolution-point">◈</div>
        <div class="paradox" style="--index: 3;">
            <div class="paradox-pair">
                <span>La forma es vacío</span><span class="vs">↔</span><span>El vacío es forma</span>
            </div>
        </div>
        <div class="paradox" style="--index: 4;">
            <div class="paradox-pair">
                <span>Morir para vivir</span><span class="vs">↔</span><span>Vivir es morir</span>
            </div>
        </div>
        <div class="paradox" style="--index: 5;">
            <div class="paradox-pair">
                <span>El que sabe no habla</span><span class="vs">↔</span><span>El que habla no sabe</span>
            </div>
        </div>
        <div class="resolution">
            CUANDO LA MENTE SE DETIENE<br>
            LAS PARADOJAS NO SE RESUELVEN<br>
            SIMPLEMENTE... DESAPARECEN
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>
    <script>
        let soundInitialized = false;

        async function initSound() {
            if (soundInitialized) return;
            await Tone.start();

            const reverb = new Tone.Reverb({ decay: 10, wet: 0.5 }).toDestination();

            // 1. El Campo de la Observación (Binaural Alpha)
            const baseFreq = 90;
            const binauralBeat = 9; // 9 Hz = Onda Alpha
            const oscL = new Tone.Oscillator(baseFreq, "sine").connect(new Tone.Panner(-1).connect(reverb)).start();
            const oscR = new Tone.Oscillator(baseFreq + binauralBeat, "sine").connect(new Tone.Panner(1).connect(reverb)).start();
            oscL.volume.value = -35;
            oscR.volume.value = -35;

            // 2. La Tensión Estéreo de la Paradoja (Lógica Corregida)
            const synthL = new Tone.FMSynth({ envelope: { attack: 1.5, release: 1.5 }, volume: -22 }).connect(new Tone.Panner(-1).connect(reverb));
            const synthR = new Tone.FMSynth({ envelope: { attack: 1.5, release: 1.5 }, volume: -22 }).connect(new Tone.Panner(1).connect(reverb));
            
            const paradoxNotes = [ ["C3", "C4"], ["D3", "A3"], ["E3", "B3"], ["F3", "C4"], ["G3", "D4"], ["A3", "E4"] ];
            const animationDelayStep = 2.5; // Corresponde al nuevo delay en el CSS
            const noteStartTime = 10 * 0.2; // 20% de la duración de la animación de 10s
            const noteDuration = "2s";
            
            // Usamos Tone.Part para una programación precisa y clara
            const paradoxPart = new Tone.Part((time, value) => {
                value.synth.triggerAttackRelease(value.note, noteDuration, time);
            }, []).start(0);
            paradoxPart.loop = true;
            paradoxPart.loopEnd = paradoxNotes.length * animationDelayStep + 5; // Duración total del ciclo

            paradoxNotes.forEach((pair, index) => {
                const startTime = index * animationDelayStep + noteStartTime;
                paradoxPart.add(startTime, { note: pair[0], synth: synthL });
                paradoxPart.add(startTime, { note: pair[1], synth: synthR });
            });

            // 3. El Acorde de la Disolución
            const dissolutionSynth = new Tone.PolySynth(Tone.FMSynth, {
                envelope: { attack: 2, decay: 4, sustain: 0.1, release: 4 },
                volume: -15
            }).connect(reverb);
             new Tone.Loop(time => {
                dissolutionSynth.triggerAttackRelease(["C4", "E4", "G4"], "6s", time);
            }, "8s").start(0); // Sincronizado con la animación del diamante de 8s

            // 4. La Caída en el Silencio
            new Tone.Loop(time => {
                // Silenciamos los sintetizadores de paradojas al aparecer el texto final
                // La animación 'final-emergence' dura 20s y el texto aparece al 90% (18s)
                 Tone.Transport.scheduleOnce(t => {
                    synthL.volume.rampTo(-Infinity, '4s', t);
                    synthR.volume.rampTo(-Infinity, '4s', t);
                 }, "18s");
            }, "20s").start(0);

            Tone.Transport.start();
            soundInitialized = true;
            console.log("La Sinfonía de la Disolución (Afinada) ha comenzado.");
        }

        document.body.addEventListener('click', initSound, { once: true });
    </script>
    </body>
</html>
